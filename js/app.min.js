!function(){"use strict";var t,n=!1,e=document.getElementsByClassName("stone_bar"),o=document.getElementsByClassName("stone_block"),a=document.getElementsByClassName("land_bar"),r=Array.prototype.slice.call(e),s=(Array.prototype.slice.call(o),Array.prototype.slice.call(a)),c=r[0].getBoundingClientRect(),l=document.getElementById("start"),i=function(){this.cover="images/bug.png",this.x=0,this.obstaclesOnBoard=[]};function d(){this.cover="images/boy.png",this.activePlayer,this.xRange=c.width,this.moveLeft=this.xRange/5,this.moveLeft+="px"}i.prototype.createElement=function(){var e=document.createElement("img");e.src=this.cover,e.className="obstacle",this.enterGame(e)},i.prototype.enterGame=function(e){var t=Math.floor(4*Math.random());r[t].children[0].appendChild(e),this.update(e),this.obstaclesOnBoard.push(e)},i.prototype.outOfBounds=function(){var n=c.x+c.width;this.obstaclesOnBoard.forEach(function(e,t){e.getBoundingClientRect().x>n&&e.parentNode.removeChild(e)})},i.prototype.update=function(e){var t=e,n=0;setInterval(function(){var e=++n+"%";t.style.left=e},5),this.outOfBounds()},d.prototype.addPlayer=function(){var e=document.createElement("img"),t=s[0].children[2];e.src=this.cover,e.className="player",this.activePlayer=e,t.appendChild(e)},d.prototype.handleInput=function(e){switch(e){case"left":break;case"up":console.log("up");break;case"right":console.log("right");break;case"down":console.log("down");break;default:console.log("other")}};var u=new i,p=new d;document.addEventListener("keyup",function(e){p.handleInput({37:"left",38:"up",39:"right",40:"down"}[e.keyCode])}),l.addEventListener("click",function(){var e;(n=!n)?(l.innerHTML="RESET",t=setInterval(function(){u.createElement()},1e3),p.addPlayer()):(l.innerHTML="START GAME",clearInterval(t),e=document.getElementsByClassName("obstacle"),Array.prototype.slice.call(e).forEach(function(e,t){e.parentNode.removeChild(e)}))})}();