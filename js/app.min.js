!function(){"use strict";var n,o=!1,e=(document.getElementById("stone-grid"),document.getElementsByClassName("stone_bar")),t=document.getElementsByClassName("stone_block"),a=Array.prototype.slice.call(e),r=(Array.prototype.slice.call(t),document.getElementById("start")),s=a[0].getBoundingClientRect(),c=function(){this.cover="images/bug.png",this.x=0,this.obstaclesOnBoard=[]};c.prototype.createElement=function(){var e=document.createElement("img");e.src=this.cover,e.className="obstacle",this.enterGame(e)},c.prototype.enterGame=function(e){var t=Math.floor(4*Math.random());a[t].children[0].appendChild(e),this.update(e),this.obstaclesOnBoard.push(e)},c.prototype.outOfBounds=function(){var n=s.x+s.width;this.obstaclesOnBoard.forEach(function(e,t){e.getBoundingClientRect().x>n&&(console.log("out of bounds"),e.parentNode.removeChild(e))})},c.prototype.update=function(e){var t=e,n=0;setInterval(function(){var e=++n+"%";t.style.left=e},5),this.outOfBounds()},r.addEventListener("click",function(){o=!o;var e,t=new c;o?(r.innerHTML="RESET",n=setInterval(function(){t.createElement()},1e3)):(r.innerHTML="START GAME",clearInterval(n),e=document.getElementsByClassName("obstacle"),Array.prototype.slice.call(e).forEach(function(e,t){e.parentNode.removeChild(e)}))})}();